(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1067:(e,t,s)=>{Promise.resolve().then(s.bind(s,2372))},2372:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5155),a=s(2115),o=s(63),i=s(1847);let l=(0,i.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var d=s(5299);let n=(0,i.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var c=s(8456),p=s(4539);function h(){let e=(0,o.useRouter)(),{toast:t}=(0,p.dj)(),[s,i]=(0,a.useState)(!1),[h,m]=(0,a.useState)("founders"),[u,x]=(0,a.useState)(!0),[f,j]=(0,a.useState)([]),[b,N]=(0,a.useState)([]),[g,y]=(0,a.useState)([]),[v,w]=(0,a.useState)([]),[M,S]=(0,a.useState)([]),[A,k]=(0,a.useState)([]);async function P(){x(!0);try{let[e,t,s,r,a,o]=await Promise.all([fetch("/api/founders"),fetch("/api/administration"),fetch("/api/members"),fetch("/api/projects"),fetch("/api/join-requests"),fetch("/api/contact-messages")]);e.ok?j(await e.json()):j(c.Fy),t.ok?N(await t.json()):N(c.Bl),s.ok?y(await s.json()):y(c.ol),r.ok?w(await r.json()):w(c.dt),a.ok&&S(await a.json()),o.ok&&k(await o.json())}catch(e){t({title:"Error",description:"Failed to load data",variant:"destructive"}),j(c.Fy),N(c.Bl),y(c.ol),w(c.dt)}finally{x(!1)}}async function E(e,s,r,a,o){try{if(!(await fetch("".concat(e,"/").concat(s),{method:"DELETE"})).ok)throw Error("Failed to delete");a(o.filter(e=>e.id!==s)),t({title:"Success",description:"".concat(r," deleted successfully")})}catch(e){t({title:"Error",description:"Failed to delete ".concat(r),variant:"destructive"})}}async function T(e){try{let s=M.find(t=>t.id===e);if(!s)throw Error("Request not found");if(!(await fetch("/api/join-requests/".concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"approved"})})).ok)throw Error("Failed to approve");let r=await fetch("/api/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:s.fullName,specialty:s.fieldOfStudy,studyYear:parseInt(s.studyYear),photoUrl:s.photoUrl||""})});if(!r.ok)throw Error("Failed to add member");S(M.map(t=>t.id===e?{...t,status:"approved"}:t));let a=await r.json();y([...g,a]),t({title:"Success",description:"Request approved and member added"})}catch(e){t({title:"Error",description:e instanceof Error?e.message:"Failed to approve request",variant:"destructive"})}}if((0,a.useEffect)(()=>{"true"!==localStorage.getItem("isAuthenticated")?e.push("/login"):i(!0)},[]),(0,a.useEffect)(()=>{s&&P()},[s]),!s)return null;let U=[{id:"founders",label:"Founders",count:f.length},{id:"admin",label:"Administration",count:b.length},{id:"members",label:"Members",count:g.length},{id:"projects",label:"Projects",count:v.length},{id:"requests",label:"Join Requests",count:M.length},{id:"messages",label:"Messages",count:A.length}];return(0,r.jsx)("div",{className:"min-h-screen bg-background text-foreground",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage your club content and members"})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("isAuthenticated"),e.push("/login")},className:"px-4 py-2 border border-input hover:bg-destructive/10 text-destructive transition-colors rounded-md flex items-center gap-2",children:[(0,r.jsx)(l,{className:"h-4 w-4"})," Logout"]})]}),u?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)(d.A,{className:"animate-spin h-8 w-8 text-primary"})}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-border",children:U.map(e=>(0,r.jsxs)("button",{onClick:()=>m(e.id),className:"px-4 py-2 border-b-2 transition-colors text-sm font-medium ".concat(h===e.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:[e.label," (",e.count,")"]},e.id))}),(0,r.jsxs)("div",{className:"rounded-lg border bg-card",children:["founders"===h&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Founding Members"}),0===f.length?(0,r.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No founders yet"}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"border-b border-border",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Name"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Role"}),(0,r.jsx)("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:f.map(e=>(0,r.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50",children:[(0,r.jsx)("td",{className:"py-3 px-4 font-medium",children:e.fullName}),(0,r.jsx)("td",{className:"py-3 px-4",children:e.role}),(0,r.jsx)("td",{className:"text-right py-3 px-4",children:(0,r.jsx)("button",{onClick:()=>E("/api/founders",String(e.id),"Founder",j,f),className:"p-1 text-destructive hover:bg-destructive/10 rounded transition-colors",children:(0,r.jsx)(n,{className:"h-4 w-4"})})})]},e.id))})]})})]}),"admin"===h&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Administration Team"}),0===b.length?(0,r.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No administration members"}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"border-b border-border",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Name"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Role"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Department"}),(0,r.jsx)("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:b.map(e=>(0,r.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50",children:[(0,r.jsx)("td",{className:"py-3 px-4 font-medium",children:e.fullName}),(0,r.jsx)("td",{className:"py-3 px-4",children:e.role}),(0,r.jsx)("td",{className:"py-3 px-4",children:e.department}),(0,r.jsx)("td",{className:"text-right py-3 px-4",children:(0,r.jsx)("button",{onClick:()=>E("/api/administration",String(e.id),"Admin",N,b),className:"p-1 text-destructive hover:bg-destructive/10 rounded transition-colors",children:(0,r.jsx)(n,{className:"h-4 w-4"})})})]},e.id))})]})})]}),"members"===h&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Members"}),0===g.length?(0,r.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No members"}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"border-b border-border",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Name"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Specialty"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Year"}),(0,r.jsx)("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:g.map(e=>(0,r.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50",children:[(0,r.jsx)("td",{className:"py-3 px-4 font-medium",children:e.fullName}),(0,r.jsx)("td",{className:"py-3 px-4",children:e.specialty}),(0,r.jsx)("td",{className:"py-3 px-4",children:e.studyYear}),(0,r.jsx)("td",{className:"text-right py-3 px-4",children:(0,r.jsx)("button",{onClick:()=>E("/api/members",String(e.id),"Member",y,g),className:"p-1 text-destructive hover:bg-destructive/10 rounded transition-colors",children:(0,r.jsx)(n,{className:"h-4 w-4"})})})]},e.id))})]})})]}),"projects"===h&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Projects"}),0===v.length?(0,r.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No projects"}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"border-b border-border",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Title"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Date"}),(0,r.jsx)("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:v.map(e=>(0,r.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50",children:[(0,r.jsx)("td",{className:"py-3 px-4 font-medium",children:e.title}),(0,r.jsx)("td",{className:"py-3 px-4",children:e.date}),(0,r.jsx)("td",{className:"text-right py-3 px-4",children:(0,r.jsx)("button",{onClick:()=>E("/api/projects",String(e.id),"Project",w,v),className:"p-1 text-destructive hover:bg-destructive/10 rounded transition-colors",children:(0,r.jsx)(n,{className:"h-4 w-4"})})})]},e.id))})]})})]}),"requests"===h&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Join Requests"}),0===M.length?(0,r.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No requests"}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"border-b border-border",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Name"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Email"}),(0,r.jsx)("th",{className:"text-left py-3 px-4",children:"Status"}),(0,r.jsx)("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:M.map(e=>(0,r.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50",children:[(0,r.jsx)("td",{className:"py-3 px-4 font-medium",children:e.fullName}),(0,r.jsx)("td",{className:"py-3 px-4",children:e.email}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat("approved"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,r.jsxs)("td",{className:"text-right py-3 px-4 space-x-2",children:["approved"!==e.status&&(0,r.jsx)("button",{onClick:()=>T(String(e.id)),className:"px-2 py-1 bg-green-600 text-white hover:bg-green-700 rounded text-sm transition-colors",children:"Approve"}),(0,r.jsx)("button",{onClick:()=>E("/api/join-requests",String(e.id),"Request",S,M),className:"p-1 text-destructive hover:bg-destructive/10 rounded transition-colors inline-block",children:(0,r.jsx)(n,{className:"h-4 w-4"})})]})]},e.id))})]})})]}),"messages"===h&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Contact Messages"}),0===A.length?(0,r.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No messages"}):(0,r.jsx)("div",{className:"space-y-4",children:A.map(e=>(0,r.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-muted/50",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email})]}),(0,r.jsx)("button",{onClick:()=>E("/api/contact-messages",String(e.id),"Message",k,A),className:"p-1 text-destructive hover:bg-destructive/10 rounded transition-colors",children:(0,r.jsx)(n,{className:"h-4 w-4"})})]}),(0,r.jsx)("p",{className:"text-sm mt-3",children:e.message})]},e.id))})]})]})]})]})})}},4539:(e,t,s)=>{"use strict";s.d(t,{dj:()=>p});var r=s(2115);let a=0,o=new Map,i=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),n({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},l=[],d={toasts:[]};function n(e){d=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(d,e),l.forEach(e=>{e(d)})}function c(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>n({type:"DISMISS_TOAST",toastId:s});return n({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>n({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function p(){let[e,t]=r.useState(d);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>n({type:"DISMISS_TOAST",toastId:e})}}},5299:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8456:(e,t,s)=>{"use strict";s.d(t,{Bl:()=>l,Fy:()=>i,cn:()=>o,dt:()=>n,ol:()=>d});var r=s(2821),a=s(5889);function o(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}let i=[{id:"1",fullName:"Manar Hougas",role:"Fondatrice du club",photoUrl:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=400&h=400&fit=crop",description:"Premi\xe8re fondatrice officielle du club Masters of Programming."},{id:"2",fullName:"Aouaidjia Mouna",role:"Vice-Pr\xe9sidente",photoUrl:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=400&h=400&fit=crop",description:"Vice-pr\xe9sidente officielle du club."},{id:"3",fullName:"Islem Djeridi",role:"Project Manager",photoUrl:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=400&h=400&fit=crop",description:""},{id:"4",fullName:"Fouad Athmani",role:"Project Manager",photoUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop",description:""},{id:"5",fullName:"Chahhat Rima",role:"Project Manager",photoUrl:"https://images.unsplash.com/photo-1598550874175-4d7112ee750c?w=400&h=400&fit=crop",description:""},{id:"6",fullName:"Mansouri Abdaraouf",role:"Project Manager",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop",description:""},{id:"7",fullName:"Nabil Djouhri",role:"Project Manager",photoUrl:"https://images.unsplash.com/photo-1513258496098-36812a796380?w=400&h=400&fit=crop",description:""},{id:"8",fullName:"Yazid Mahfoud",role:"Project Manager",photoUrl:"https://images.unsplash.com/photo-1531427186611-ecfd6d936c79?w=400&h=400&fit=crop",description:""}],l=[{id:"0",fullName:"Professeur Ledmi Abdeldjalil",role:"Professeur encadrant",department:"Supervision",photoUrl:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=400&fit=crop",description:"Superviseur officiel du club Masters of Programming."},{id:"1",fullName:"Manar Hougas",role:"Fondatrice du club",department:"Executive Board",photoUrl:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=400&h=400&fit=crop",description:"Premi\xe8re fondatrice officielle du club Masters of Programming."},{id:"2",fullName:"Aouaidjia Mouna",role:"Vice-Pr\xe9sidente",department:"Executive Board",photoUrl:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=400&h=400&fit=crop",description:"Vice-pr\xe9sidente officielle du club."},{id:"3",fullName:"Islem Djeridi",role:"Project Manager",department:"Project Management",photoUrl:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=400&h=400&fit=crop",description:"Gestion de projets et planification."},{id:"4",fullName:"Fouad Athmani",role:"Project Manager",department:"Project Management",photoUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop",description:"Gestion de projets et coordination technique."},{id:"5",fullName:"Chahhat Rima",role:"Project Manager",department:"Project Management",photoUrl:"https://images.unsplash.com/photo-1598550874175-4d7112ee750c?w=400&h=400&fit=crop",description:"Gestion de projets et relations externes."},{id:"6",fullName:"Mansouri Abdaraouf",role:"Project Manager",department:"Project Management",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop",description:"Gestion de projets et supervision technique."},{id:"7",fullName:"Nabil Djouhri",role:"Project Manager",department:"Project Management",photoUrl:"https://images.unsplash.com/photo-1513258496098-36812a796380?w=400&h=400&fit=crop",description:"Gestion de projets."},{id:"8",fullName:"Yazid Mahfoud",role:"Project Manager",department:"Project Management",photoUrl:"https://images.unsplash.com/photo-1531427186611-ecfd6d936c79?w=400&h=400&fit=crop",description:"Gestion de projets."}],d=Array.from({length:12}).map((e,t)=>({id:String(t+1),fullName:"Member ".concat(t+1),specialty:["Web Dev","AI/ML","Cybersecurity","Mobile Dev"][t%4],studyYear:t%4+1,photoUrl:"https://i.pravatar.cc/300?img=".concat(t+10)})),n=[{id:"1",title:"Annual Hackathon 2024",date:"October 15, 2024",description:"A 24-hour coding marathon where students built innovative solutions for campus problems.",bannerUrl:"https://images.unsplash.com/photo-1504384308090-c54be3855833?w=800&h=400&fit=crop"},{id:"2",title:"AI Workshop Series",date:"November 5, 2024",description:"A 4-week intensive workshop covering the basics of Machine Learning and Neural Networks.",bannerUrl:"https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?w=800&h=400&fit=crop"},{id:"3",title:"Tech Conference",date:"December 10, 2024",description:"Guest speakers from top tech companies shared insights on the future of software engineering.",bannerUrl:"https://images.unsplash.com/photo-1544531586-fde5298cdd40?w=800&h=400&fit=crop"},{id:"4",title:"Open Source Contribution",date:"January 20, 2025",description:"Collaborative event to help students make their first contribution to open source projects.",bannerUrl:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800&h=400&fit=crop"}]}},e=>{e.O(0,[510,441,493,358],()=>e(e.s=1067)),_N_E=e.O()}]);